{"ast":null,"code":"import express from 'express';\nimport bodyParser from 'body-parser';\nimport { createPool } from 'mysql';\nvar connection = createPool({\n  host: 'localhost',\n  user: 'sserver',\n  password: 'sserver',\n  database: 'tia_asa'\n});\nvar app = express();\napp.get('/ecole', function (req, res) {\n  connection.getConnection(function (err, connection) {\n    connection.query('SELECT * FROM FORMATION WHERE ecole=\"ESTI\"', function (error, results, fields) {\n      if (error) throw error;\n      res.send(results);\n    });\n  });\n});\napp.listen(3000, function () {\n  console.log('Go to http://192.168.10.112:3000/ecole so you can see the data.');\n});\n\nfunction data_test() {\n  fetch('http://192.168.10.112:3000/ecole').then(function (response) {\n    return response.json();\n  }).then(function (ecole) {\n    return console.warn(ecole);\n  });\n}","map":{"version":3,"sources":["/home/landris18/Daz/back-office/route.js"],"names":["express","bodyParser","createPool","connection","host","user","password","database","app","get","req","res","getConnection","err","query","error","results","fields","send","listen","console","log","data_test","fetch","then","response","json","ecole","warn"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,SAASC,UAAT,QAA2B,OAA3B;AAGA,IAAMC,UAAU,GAAGD,UAAU,CAAC;AAC1BE,EAAAA,IAAI,EAAE,WADoB;AAE1BC,EAAAA,IAAI,EAAE,SAFoB;AAG1BC,EAAAA,QAAQ,EAAE,SAHgB;AAI1BC,EAAAA,QAAQ,EAAE;AAJgB,CAAD,CAA7B;AAOA,IAAMC,GAAG,GAAGR,OAAO,EAAnB;AAGAQ,GAAG,CAACC,GAAJ,CAAQ,QAAR,EAAkB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAElCR,EAAAA,UAAU,CAACS,aAAX,CAAyB,UAAUC,GAAV,EAAeV,UAAf,EAA2B;AAGpDA,IAAAA,UAAU,CAACW,KAAX,CAAiB,4CAAjB,EAA+D,UAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,MAA1B,EAAkC;AAE7F,UAAIF,KAAJ,EAAW,MAAMA,KAAN;AAGXJ,MAAAA,GAAG,CAACO,IAAJ,CAASF,OAAT;AACH,KAND;AAOD,GAVC;AAWH,CAbD;AAiBAR,GAAG,CAACW,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACtBC,EAAAA,OAAO,CAACC,GAAR,CAAY,iEAAZ;AACA,CAFD;;AAIA,SAASC,SAAT,GAAqB;AACpBC,EAAAA,KAAK,CAAC,kCAAD,CAAL,CACEC,IADF,CACO,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADf,EAEEF,IAFF,CAEO,UAAAG,KAAK;AAAA,WAAIP,OAAO,CAACQ,IAAR,CAAaD,KAAb,CAAJ;AAAA,GAFZ;AAGA","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport { createPool } from 'mysql';\n\n\nconst connection = createPool({\n    host: 'localhost',\n    user: 'sserver',\n    password: 'sserver',\n    database: 'tia_asa'\n});\n\nconst app = express();\n\n// Creating a GET route that returns data from the 'users' table.\napp.get('/ecole', function (req, res) {\n    // Connecting to the database.\n    connection.getConnection(function (err, connection) {\n\n    // Executing the MySQL query (select all data from the 'users' table).\n    connection.query('SELECT * FROM FORMATION WHERE ecole=\"ESTI\"', function (error, results, fields) {\n      // If some error occurs, we throw an error.\n        if (error) throw error;\n\n        // Getting the 'response' from the database and sending it to our route. This is were the data is.\n        res.send(results)\n    });\n  });\n});\n\n\n// Starting our server.\napp.listen(3000, () => {\n console.log('Go to http://192.168.10.112:3000/ecole so you can see the data.');\n});\n\nfunction data_test() {\n\tfetch('http://192.168.10.112:3000/ecole')\n\t\t.then(response => response.json())\n\t\t.then(ecole => console.warn(ecole))\n}"]},"metadata":{},"sourceType":"module"}